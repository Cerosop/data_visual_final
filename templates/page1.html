<!DOCTYPE HTML>
<html>

<head>
	<title>表格與動態柱狀圖</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<link rel="stylesheet" href="style.css" />
</head>

<body class="is-preload">

	<!-- Header -->
	<div id="header">
		<span class="logo icon fa-paper-plane"></span>
		<h1>表格與動態柱狀圖</h1>

	</div>

	<!-- Main -->
	<div id="main">

		<div class="box container">
			<header>
				<h2>歷年世界富豪排名</h2>
			</header>

			<!-- 選單-->
			<div class="row">
				<div class="col-12">
					<label for="year1">選擇年分：</label>
					<select id="year1">
						<option value="2011">2011</option>
						<option value="2012">2012</option>
						<option value="2013">2013</option>
						<option value="2014">2014</option>
						<option value="2015">2015</option>
						<option value="2016">2016</option>
						<option value="2017">2017</option>
						<option value="2018">2018</option>
						<option value="2019">2019</option>
						<option value="2020">2020</option>
						<option value="2021">2021</option>
						<option value="2022">2022</option>
						<option value="2023" selected>2023</option>
					</select>
				</div>
				<div class="col-12">
					<label for="sort">選擇排序方式：</label>
					<select id="sort">
						<option value="age">年紀</option>
						<option value="money1" selected>資產</option>
					</select>
				</div>
			</div>
			<script>
				function handleSelectionChange() {
					var yearDropdown = document.getElementById("year1");
					var sortDropdown = document.getElementById("sort");

					var selectedYear = yearDropdown.options[yearDropdown.selectedIndex].value;
					var selectedSort = sortDropdown.options[sortDropdown.selectedIndex].value;

					console.log("Selected Year: " + selectedYear);
					console.log("Selected Sort Method: " + selectedSort);

					// 在這裡可以執行其他相關的操作，或者將值傳遞給其他 JavaScript 檔案
				}
				document.getElementById("year1").addEventListener("change", handleSelectionChange);
				document.getElementById("sort").addEventListener("change", handleSelectionChange);
			</script>

			&nbsp

			<div class="table-container" style="height: 500px">
				<table class="default2" id="Table1">
					<thead>
						<tr>
							<th>rank</th>
							<th>name</th>
							<th>age</th>
							<th>country</th>
							<th>continent</th>
							<th>work</th>
							<th>net_worth</th>
						</tr>
					</thead>
					<tbody>
						<tr class="hidden-row">
							<td>单元格1</td>
							<td>单元格2</td>
							<td>单元格3</td>
							<td>单元格4</td>
							<td>单元格5</td>
							<td>单元格6</td>
							<td>单元格7</td>
						</tr>

						<script>
							// 獲取表格元素
							var table = document.getElementById("Table1");

							// 資料示例（可以從後端或其他地方獲取）
							var data = [
								["1", "John", "25", "USA", "North America", "Developer", "$1 million"],
								["2", "Jane", "30", "Canada", "North America", "Designer", "$800,000"],
								["2", "Jane", "30", "Canada", "North America", "Designer", "$800,000"],
								["2", "Jane", "30", "Canada", "North America", "Designer", "$800,000"],
								["2", "Jane", "30", "Canada", "North America", "Designer", "$800,000"],
								["2", "Jane", "30", "Canada", "North America", "Designer", "$800,000"],
								// 更多資料行...
							];

							// 迴圈動態生成表格內容
							for (var i = 0; i < data.length; i++) {
								var row = table.insertRow(-1); // 插入新的行

								for (var j = 0; j < data[i].length; j++) {
									var cell = row.insertCell(j); // 插入新的單元格
									cell.innerHTML = data[i][j]; // 設定單元格內容
								}
							}
						</script>

					</tbody>
				</table>
			</div>

			&nbsp
		</div>



		<div class="box container">
			<header>
				<h2>歷年世界富豪變化</h2>

			</header>
			<section>
				<header>
					我們會用跑條進行動態比較，觀察歷年富豪們的變化。
				</header>
				<header>
					跑條與表格各自有優劣點，我們可以透過希望視覺化的模式來進行選擇。
				</header>
			</section>

			&nbsp

			<!-- 選單-->
			<div class="row">
				<div class="col-12">
					<label for="element">選擇排序項目：</label>
					<select id="element">
						<!-- selected 預選 disabled 不可選 -->
						<option value="people" selected>富豪</option>
						<option value="country">國家</option>
						<option value="work">工作</option>
					</select>
				</div>
				<div class="col-12">
					<label for="area">選擇地區：</label>
					<select id="area">
						<!-- selected 預選 disabled 不可選 -->
						<option value="Oceania">大洋洲</option>
						<option value="Africa">非洲</option>
						<option value="Asia">亞洲</option>
						<option value="Europe">歐洲</option>
						<option value="South America">南美洲</option>
						<option value="North America">北美洲</option>
						<option value="all" selected>全</option>
					</select>
				</div>
				<div class="col-12">
					<label for="sort2">選擇比較項目：</label>
					<select id="sort2">
						<!-- selected 預選 disabled 不可選 -->
						<option value="num" disabled>國家富豪人數</option>
						<option value="money2" selected>資產</option>
					</select>
				</div>
			</div>
			<script>
				function handleDropdownChange() {
					var elementDropdown = document.getElementById("element");
					var areaDropdown = document.getElementById("area");
					var sortDropdown = document.getElementById("sort2");

					// 處理排序項目的變化
					var selectedElementValue = elementDropdown.options[elementDropdown.selectedIndex].value;
					console.log("Selected Element: " + selectedElementValue);

					// 處理選擇地區的變化
					var selectedAreaValue = areaDropdown.options[areaDropdown.selectedIndex].value;
					console.log("Selected Area: " + selectedAreaValue);

					if (selectedElementValue === "people" && selectedAreaValue === "all") {
						sortDropdown.querySelector('option[value="num"]').disabled = true;
						sortDropdown.value = "money2";
					} else {
						sortDropdown.querySelector('option[value="num"]').disabled = false;
					}

					if (selectedElementValue === "country" || selectedElementValue === "work") {
						areaDropdown.querySelector('option[value="Oceania"]').disabled = true;
						areaDropdown.querySelector('option[value="Africa"]').disabled = true;
						areaDropdown.querySelector('option[value="Asia"]').disabled = true;
						areaDropdown.querySelector('option[value="Europe"]').disabled = true;
						areaDropdown.querySelector('option[value="South America"]').disabled = true;
						areaDropdown.querySelector('option[value="North America"]').disabled = true;
						areaDropdown.value = "all";
					} else {
						areaDropdown.querySelector('option[value="Oceania"]').disabled = false;
						areaDropdown.querySelector('option[value="Africa"]').disabled = false;
						areaDropdown.querySelector('option[value="Asia"]').disabled = false;
						areaDropdown.querySelector('option[value="Europe"]').disabled = false;
						areaDropdown.querySelector('option[value="South America"]').disabled = false;
						areaDropdown.querySelector('option[value="North America"]').disabled = false;
					}

					// 處理排序項目的變化
					var selectedSortValue = sortDropdown.options[sortDropdown.selectedIndex].value;
					console.log("Selected Sort: " + selectedSortValue);

					// 在這裡可以執行其他相關的操作或返回
				}

				// 在三個下拉式選單的 "change" 事件上調用函數
				document.getElementById("area").addEventListener("change", handleDropdownChange);
				document.getElementById("sort2").addEventListener("change", handleDropdownChange);
				document.getElementById("element").addEventListener("change", handleDropdownChange);

			</script>

			&nbsp

			<div id="bar-chart-race">
				<script type="module">
					import define from "./bar-chart-race/index.js";
					import { Runtime, Library, Inspector } from "./bar-chart-race/runtime.js";
					const runtime = new Runtime();
					const main = runtime.module(define, Inspector.into(document.getElementById('bar-chart-race')));
				</script>
			</div>
		</div>

		<ul class="actions special">
			<li><a href="index.html" class="button">返回</a></li>
		</ul>

	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>


</body>

</html>